<!DOCTYPE html>
<html lang="en-US">
	<head>
	<title>Theresienstadt explained</title>
	<meta name='robots' content='noindex,nofollow' /> 

	<!-- libs -->
	<link rel='stylesheet' href="/static/css/bootstrap.min.css">
	<link rel='stylesheet" href="/static/css/bootstrap-switch.min.css" >
	<link rel="stylesheet" href="/static/css/bootstrap-theme.min.css">
	<link rel='stylesheet" href="/static/css/jquery-ui-1.10.3.custom.css">
	<link rel='stylesheet' href='/static/css/colorbox.css' id='colorboxx' type='text/css' />
  <link rel='stylesheet' href="/static/css/jquery.cssemoticons.css" type="text/css"/>

	<!-- custome -->
	<link type="text/css" href="/static/css/vi2.main.css" rel="stylesheet" />
		
	<link type="text/css" href="/static/css/vi2.assessment.css" rel="stylesheet" />
	<!--<link type="text/css" href="/static/css/vi2.assessment-fill-in.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.assessment-writing.css" rel="stylesheet" />-->
	<link type="text/css" href="/static/css/vi2.visual-highlighting.css" rel="stylesheet" />

	<link type="text/css" href="/static/css/vi2.annotated-timeline.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.player.playback-speed.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.player.zoom.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.player.sharing.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.player.skip-back.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.player.temporal-bookmarks.css" rel="stylesheet" />

	<link type="text/css" href="/static/css/vi2.simultaneous-media.css" rel="stylesheet" />
	<!--<link type="text/css" href="/static/css/vi2.user-notes.css" rel="stylesheet" />-->
	<link type="text/css" href="/static/css/vi2.closed-captions.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.toc.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.hyperlinks.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.comments.css" rel="stylesheet" />
	<link type="text/css" href="/static/css/vi2.videoplayer.css" rel="stylesheet" />
	
	
	<link rel='stylesheet' href='/static/css/theresienstadt.css' type='text/css'  />


	<!-- libs -->	
	<script src="/static/lib/jquery-1.9.1.min.js" type="text/javascript"></script>
	<script src="/static/lib/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
	<script src="/static/lib/bootstrap.js" type="text/javascript"></script>
	<script src="/static/lib/holder.js" type="text/javascript"></script>
	<script src="/static/lib/jquery.cssemoticons.min.js" type="text/javascript"></script>

	<!--
		<script src="/static/js/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>

	<link type="text/css" href="/static/css/ui-lightness/jquery-ui-1.7.2.custom.css" rel="stylesheet" />
	<script src="/static/lib/jquery-1.11.2.min.js" type='text/javascript' ></script>
	-->
	<script src="/static/lib/jquery.ui.core.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.widget.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.mouse.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.position.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.draggable.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.droppable.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.resizable.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.selectable.js" type="text/javascript"></script>
	<script src="/static/lib/jquery.ui.sortable.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.accordion.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.autocomplete.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.button.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.datepicker.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.dialog.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.menu.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.progressbar.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.slider.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.spinner.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.tabs.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.tooltip.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-blind.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-bounce.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-clip.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-drop.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-explode.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-fade.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-fold.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-highlight.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-pulsate.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-scale.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-shake.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-slide.js" type="text/javascript"></script> 
	<script src="/static/lib/jquery.ui.effect-transfer.js" type="text/javascript"></script> 

			
	<script src="/static/lib/jquery.json-2.2.min.js" type='text/javascript' ></script>
	<script src="/static/lib/jquery.inherit-1.1.1.js" type='text/javascript' ></script>
	<script src='/static/lib/ejs.js' type='text/javascript' ></script>
	<!-- to be removed-->
	<script src="/static/lib/jquery.tinysort.js" type='text/javascript' ></script>
	<script src="/static/lib/jquery.sortChildren.js" type='text/javascript' ></script>
	<!--<script src="/static/lib/jquery.tooltip.js" type='text/javascript' ></script>-->
	<script src='/static/lib/jquery.spin.js' type='text/javascript' ></script>
	<script src="/static/lib/jquery.panzoom.min.js" type='text/javascript' ></script>
	<script src="/static/lib/sammy-latest.min.js" type='text/javascript' ></script>
	<script src="/static/lib/moment.min.js" type='text/javascript' ></script>
	<script src='/static/lib/jquery.colorbox-min.js' type='text/javascript' ></script>
	<script src="/static/lib/markdown.js" type='text/javascript' ></script>
	<script src="/static/lib/jquery-image-loader.js" type='text/javascript' ></script>
	

	<script src="/socket.io/socket.io.js"></script>
	<script type='text/javascript' src="/static/lib/require.js" data-main="/static/lib/requirejs-conf"></script>


	<script type="text/javascript"> 
	$(window).load(function () {
	
	var socket = io('http://127.0.0.1:3033');
	//socket = io('http://176.10.37.68:3033');
	
	/*
	socket.on('news', function (data) {
    console.log(data);
    socket.emit('my other event', { my: 'data' });
  });
  */ 
  
  // inform about new
	
	// recognize user that just logged in
	socket.on('user.connected', function(data){ 
		$('#user'+data.user).addClass('online');
		$('img.user'+data.user).addClass('online');
		//$('#user'+data.user).css('); 
		alert('connected');
	});
	
	socket.on('user.disconnected', function(data){ 
		$('#user'+data.user).removeClass('online');
		$('img.user'+data.user).removeClass('online');
		$('#user'+data.user).css('border','none'); 
		alert('disconnected');
	});
		
	render('user-data', true, '.user-area'); 
	render('group-data', true, '.group-area');	
});  
	
	
	
	var server = '';

	/*
	**/
	var render = function(template, remote, selector, json){
			if( json === undefined){ json = template; } 
			require(['text!../views/'+template+'.ejs', 'ejs'], function(thetemplate) {  
				if(remote){        
					$.ajax({
				    type: "get",
				    beforeSend: function(xhr){  
								if (xhr.overrideMimeType){
								  xhr.overrideMimeType("application/json");
								}
						},
				    url: server+'/json/'+json,
				    dataType: 'json',
				    success: function(data){  // alert( JSON.stringify(data))
							var html = ejs.render(thetemplate, { items: data });
							$(selector).html(html);
						
						},
						error : function(e){ alert('ERROR at '+template+':'+JSON.stringify(e)); }		  
					});
			
				}else{ 
					var html = ejs.render(thetemplate, {items:0});
					$(selector).html(html);
				}	
		}); // end require
	};	// end render
	
	/*
	**/
	$(window).load(function () {
		//render('user-data', true, '.user-area'); 
		//render('group-data', true, '.group-area');
	
		//render('home', false, '#page-intro')
		//render('story', false, '#page-history')
		//render('scenes', true, '#page-scenes')
		//render('persons', true, '#page-persons')
	
	}); 
	</script> 	
</head>
<body data-spy="scroll" data-target=".bs-docs-sidebar" data-twttr-rendered="true">
	<!-- Navbar
  ================================================== -->
  <header class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
          <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" title="hello" href="/home">Theresienstadt explained</a>
          </div>
          <nav class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                  <li>
                      <a href="./index.html">Home</a>
                  </li>
                    <li class="">
			    	<a class="" href="javascript:render('story', false, '#page');" class="">Entstehungsgeschichte</a>
			    </li>
			    <li class="">
			    	<a class="" href="/videos/view/52a13d2e2aa9d35f24000777" class="sr-only">Film</a>
			    </li>
			    <li class="">
			    <a class="" href="javascript:render('scenes', true, '#page');" class="sr-only">Szenen</a>
			    </li>
			    <li class="">
			    <a class="" href="javascript:render('persons', true, '#page');" class="sr-only">Personen</a>
			    </li>
                  
			   				 	<li>
			   				 		<a href="/about">About</a>
			   				 		
			   				 	</li>
                  
              </ul>
              
              <div hidden id="twitter-share" class="navbar-right">
                  <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://addyosmani.github.com/jquery-ui-bootstrap/" data-text="A new jQuery UI Bootstrap theme" data-via="addyosmani" data-size="large">Tweet</a>
                  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
              </div>
          
          <span class="group-area"></span>
					<span class="user-area">
					</nav>
      </div>
  </header>
<%- body %>
	<footer>
	<div class="page-footer"><% include footer %></div>
	</footer>	
</body>
</html>
